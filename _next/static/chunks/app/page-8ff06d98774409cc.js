(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{933:(e,t,s)=>{Promise.resolve().then(s.bind(s,6952))},6952:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>em});var l=s(5155),a=s(2115),i=s(9500),r=s.n(i),n=s(908),o=s(7725);class c{get isDark(){return"dark"===this.theme}loadTheme(){let e=localStorage.getItem("theme");e&&(this.theme=e,this.applyThemeToDOM())}saveTheme(){localStorage.setItem("theme",this.theme)}applyThemeToDOM(){this.isDark?document.documentElement.dataset.theme="dark":document.documentElement.dataset.theme="light",console.log(this.theme)}constructor(){this.theme="light",this.setTheme=e=>{this.theme=e,this.applyThemeToDOM(),this.saveTheme()},this.toggleTheme=()=>{this.theme="light"===this.theme?"dark":"light",this.saveTheme(),this.applyThemeToDOM()},(0,o.l_)(this),this.loadTheme()}}let d=new c;var h=s(3463);let m={default:"",xs:"input-xs",sm:"input-sm",lg:"input-lg"};function u(e){let{type:t="text",label:s,helperText:a,error:i,size:r="default",id:n="input",className:o,...c}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-1 relative",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{id:n,type:t,placeholder:"",className:(0,h.A)(["input input-floating peer",m[r],i?"is-invalid":"",o]),...c}),s&&"xs"!==r&&(0,l.jsx)("label",{htmlFor:n,className:"input-floating-label",children:s})]}),(i||a)&&(0,l.jsx)("div",{className:"label",children:(0,l.jsx)("p",{className:"label-text-alt",children:i||a})})]})}let x={default:"",xs:"btn-xs",sm:"btn-sm",lg:"btn-lg"},p={solid:"",outline:"btn-outline",text:"btn-text",soft:"btn-soft"},g={warning:"btn-warning",success:"btn-success",error:"btn-error",accent:"btn-accent",primary:"btn-primary",default:""};function v(e){let{id:t,variant:s="solid",size:a="default",type:i="button",color:r="default",icon:n,circle:o,className:c,children:d,...m}=e;return(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsxs)("button",{id:t,type:i,className:(0,h.A)(["btn",o&&"btn-circle",x[a],p[s],g[r],c]),...m,children:[d,n]})})}var f=s(5165),j=s(2723);function w(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"m12 13.4l-4.9 4.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.9-4.9l-4.9-4.9q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.9 4.9l4.9-4.9q.275-.275.7-.275t.7.275t.275.7t-.275.7L13.4 12l4.9 4.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275z"})})}var T=s(9889),k=s(7351);function y(e){return(0,T.GP)(e,"dd MMMM yyyy HH:mm",{locale:k.ru})}function b(e){let{size:t="default",id:s="picker-date",task:i,setTask:r}=e,n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{n.current&&(0,f.A)(n.current,{dateFormat:"Y-m-d",minDate:"today",enableTime:!0,defaultDate:i.dueDate,locale:j.Russian,onChange:e=>{r(t=>({...t,dueDate:e[0]}))}})},[i.dueDate,r]),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(u,{id:s,ref:n,size:t,label:"Дедлайн",readOnly:!0,value:i.dueDate?y(i.dueDate):""}),i.dueDate&&(0,l.jsx)(v,{variant:"text",color:"primary",className:"absolute right-0 top-0",icon:(0,l.jsx)(w,{}),size:t,onClick:()=>r(e=>({...e,dueDate:""}))})]})}let N={default:"",xs:"select-xs"};function C(e){let{label:t,value:s,options:a,onChange:i,className:r,size:n="default"}=e;return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("select",{id:"select-priority",className:(0,h.A)(["select select-floating",r,N[n]]),value:s,onChange:e=>i(e.target.value),children:a.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))}),"xs"!=n&&t&&(0,l.jsx)("label",{htmlFor:"select-priority",className:"select-floating-label",children:t})]})}function z(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"M6 20V6H5V5h4v-.77h6V5h4v1h-1v14zm1-1h10V6H7zm2.808-2h1V8h-1zm3.384 0h1V8h-1zM7 6v13z"})})}let D={soft:"badge-soft",primary:"badge-primary",outline:"badge-outline"},q={primary:"badge-primary"};function L(e){let{tag:t,deleteTag:s,editable:i,variant:r="soft",color:n="primary",className:o,onClick:c}=e,[d,m]=(0,a.useState)(!1);return(0,l.jsxs)("span",{onClick:c,className:(0,h.A)("badge animate-slide-up relative",D[r],q[n],o),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:["#",t.name,s&&i&&(0,l.jsx)("div",{className:(0,h.A)(["absolute right-[-10px] bottom-[-10px] rounded-full bg-white p-1 border z-10 cursor-pointer transition-all",d?"opacity-100":"opacity-0"]),children:(0,l.jsx)(z,{className:"text-gray-600",onClick:()=>s(t.id)})})]},t.id)}function M(e){let{label:t,helperText:s,error:a,...i}=e;return(0,l.jsxs)("div",{className:"flex gap-2 flex-col",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("textarea",{id:"form-textarea",placeholder:"",className:(0,h.A)(["textarea textarea-floating peer",a?"is-invalid":""]),...i}),t&&(0,l.jsx)("label",{htmlFor:"form-textarea",className:"textarea-floating-label",children:t})]}),(a||s)&&(0,l.jsx)("div",{className:"label",children:(0,l.jsx)("p",{className:"label-text-alt",children:a||s})})]})}function S(e){let{id:t,checked:s,onChange:a,label:i}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{id:t,type:"checkbox",checked:s,onChange:a,className:"checkbox checkbox-primary"}),(0,l.jsx)("label",{htmlFor:t,className:(0,h.A)(["label label-text ",s&&"line-through"]),children:i})]})}function F(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"M19 12.998h-6v6h-2v-6H5v-2h6v-6h2v6h6z"})})}function H(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"M19 12.998H5v-2h14z"})})}function A(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"m12.25 10.825l.925.925L18.6 6.325l-.925-.925zM5 19h.925l5.825-5.825l-.925-.925L5 18.075zm8.875-5.125l-3.75-3.75L14.3 5.95l-.725-.725L8.1 10.7L6.7 9.3l5.45-5.475q.6-.6 1.413-.6t1.412.6l.725.725l1.25-1.25q.3-.3.713-.3t.712.3L20.7 5.625q.3.3.3.712t-.3.713zM6.75 21H3v-3.75l7.125-7.125l3.75 3.75z"})})}function O(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h4.2q.325-.9 1.088-1.45T12 1t1.713.55T14.8 3H19q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.387T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95zm0-3v1V5v6.075V11zm2-1h4.075q.075-.525.238-1.025t.362-.975H7zm0-4h6.1q.8-.75 1.788-1.25T17 11.075V11H7zm0-4h10V7H7zm5-4.75q.325 0 .538-.213t.212-.537t-.213-.537T12 2.75t-.537.213t-.213.537t.213.538t.537.212M18 23q-2.075 0-3.537-1.463T13 18t1.463-3.537T18 13t3.538 1.463T23 18t-1.463 3.538T18 23m-.5-2h1v-2.5H21v-1h-2.5V15h-1v2.5H15v1h2.5z"})})}function B(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M11.576 1.424a.6.6 0 0 1 .848 0l10.152 10.152a.6.6 0 0 1 0 .848L12.424 22.576a.6.6 0 0 1-.848 0L1.424 12.424a.6.6 0 0 1 0-.848zM12 8v4m0 4.01l.01-.011"})})}function V(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"M7.5 2c-1.79 1.15-3 3.18-3 5.5s1.21 4.35 3.03 5.5C4.46 13 2 10.54 2 7.5A5.5 5.5 0 0 1 7.5 2m11.57 1.5l1.43 1.43L4.93 20.5L3.5 19.07zm-6.18 2.43L11.41 5L9.97 6l.42-1.7L9 3.24l1.75-.12l.58-1.65L12 3.1l1.73.03l-1.35 1.13zm-3.3 3.61l-1.16-.73l-1.12.78l.34-1.32l-1.09-.83l1.36-.09l.45-1.29l.51 1.27l1.36.03l-1.05.87zM19 13.5a5.5 5.5 0 0 1-5.5 5.5c-1.22 0-2.35-.4-3.26-1.07l7.69-7.69c.67.91 1.07 2.04 1.07 3.26m-4.4 6.58l2.77-1.15l-.24 3.35zm4.33-2.7l1.15-2.77l2.2 2.54zm1.15-4.96l-1.14-2.78l3.34.24zM9.63 18.93l2.77 1.15l-2.53 2.19z"})})}let E=(0,n.PA)(function(){return(0,l.jsx)(v,{onClick:()=>d.toggleTheme(),icon:(0,l.jsx)(V,{}),circle:!0,color:d.isDark?"primary":"default",variant:d.isDark?"solid":"outline"})});function P(){return(0,l.jsxs)("div",{className:"flex py-5 justify-between items-center",children:[(0,l.jsx)(K,{}),(0,l.jsx)(E,{})]})}function K(){return(0,l.jsxs)("div",{className:"flex items-end",children:[(0,l.jsx)("span",{className:"font-bold text-primary text-lg",children:"TODO"}),(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"38",height:"38",viewBox:"0 0 24 24",className:"animate-spin-slow",children:(0,l.jsx)("path",{fill:"currentColor",d:"m14.05 16.242l-1.065-1.046q-.146-.146-.347-.158t-.367.153t-.165.356q0 .192.165.357l1.213 1.213q.243.243.566.243t.566-.243l3.344-3.363q.146-.146.153-.344q.006-.198-.16-.368q-.164-.155-.353-.158t-.354.162zM8 14.5h1q.213 0 .356-.144t.144-.357t-.144-.356T9 13.5H8q-.213 0-.356.144t-.144.357t.144.356T8 14.5m0-3h5q.213 0 .356-.144t.144-.357t-.144-.356T13 10.5H8q-.213 0-.356.144t-.144.357t.144.356T8 11.5m0-3h5q.213 0 .356-.144t.144-.357t-.144-.356T13 7.5H8q-.213 0-.356.144t-.144.357t.144.356T8 8.5M12.003 21q-1.866 0-3.51-.708q-1.643-.709-2.859-1.924t-1.925-2.856T3 12.003t.709-3.51Q4.417 6.85 5.63 5.634t2.857-1.925T11.997 3t3.51.709q1.643.708 2.859 1.922t1.925 2.857t.709 3.509t-.708 3.51t-1.924 2.859t-2.856 1.925t-3.509.709M12 20q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8"})}),(0,l.jsx)("span",{className:r().className,children:"list"})]})}var Q=s(8602),_=s(8837);class I{loadFromLocalStorage(){let e=localStorage.getItem("tasks");e&&(this.tasks=JSON.parse(e))}saveToLocalStorage(){localStorage.setItem("tasks",JSON.stringify(this.tasks))}sortByPriority(e,t){let s={low:1,medium:2,high:3};return s[e.priority]-s[t.priority]}sortByDate(e,t){return(new Date(e.dueDate).getTime()||1/0)-(new Date(t.dueDate).getTime()||1/0)}get sortedTasks(){let e=[...this.filteredTasks];return"none"===this.sortKey?e:e.sort((e,t)=>{let s="asc"===this.sortOrder?1:-1;switch(this.sortKey){case"priority":return this.sortByPriority(e,t)*s;case"dueDate":return this.sortByDate(e,t)*s;default:return 0}})}get filteredTasks(){return this.tasks.filter(e=>{let t="all"===this.currentFilter&&!e.isCompleted||"active"===this.currentFilter&&!e.isCompleted||"completed"===this.currentFilter&&e.isCompleted,s=0===this.selectedTags.length||e.tags&&e.tags.some(e=>this.selectedTags.map(e=>e.name).includes(e.name)),l=""===this.searchQuery||e.title.toLowerCase().includes(this.searchQuery.toLowerCase()),a="today"===this.currentFilter&&e.dueDate&&(0,Q.c)(e.dueDate),i=e.dueDate&&"overdue"===this.currentFilter&&0>(0,_.o)(e.dueDate,new Date)&&!e.isCompleted;return t&&s&&l||a||i})}get completedTasksList(){return this.tasks.filter(e=>e.isCompleted)}get overdueTaskList(){return this.tasks.filter(e=>e.dueDate&&0>(0,_.o)(e.dueDate,new Date)&&!e.isCompleted)}get tagsList(){let e=[],t=[];return this.tasks.map(e=>e.tags).flat().forEach(s=>!e.includes(s.name)&&e.push(s.name)&&t.push(s)),t}constructor(){this.tasks=[],this.currentFilter="all",this.selectedTags=[],this.searchQuery="",this.sortKey="none",this.sortOrder="asc",this.addTask=e=>{this.tasks.push(e),this.saveToLocalStorage()},this.updateTask=e=>{this.tasks=this.tasks.map(t=>t.id===e.id?e:t),this.saveToLocalStorage()},this.deleteTask=e=>{this.tasks=this.tasks.filter(t=>t.id!==e),this.saveToLocalStorage()},this.toggleTaskCompletion=e=>{this.tasks=this.tasks.map(t=>t.id===e?{...t,isCompleted:!t.isCompleted}:t),this.saveToLocalStorage()},this.setFilter=e=>{this.currentFilter=e},this.setSearchQuery=e=>{this.searchQuery=e},this.setSelectedTags=e=>{this.selectedTags=e},this.setSorting=e=>{this.sortKey===e?this.sortOrder="asc"===this.sortOrder?"desc":"asc":(this.sortKey=e,this.sortOrder="asc")},(0,o.l_)(this),this.loadFromLocalStorage()}}let J=new I,R=(0,n.PA)(function(){let[e,t]=(0,a.useState)(J.searchQuery);return(0,a.useEffect)(()=>{J.setSearchQuery(e)},[e]),(0,l.jsx)(u,{size:"sm",label:"Поиск...",type:"search",value:e,onChange:e=>t(e.target.value)})});function G(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"m22.7 43.2l-6.3 6.3V9.1c0-1.2-1-2.3-2.3-2.3s-2.3 1-2.3 2.3v40.4l-6.3-6.3c-.9-.9-2.3-.9-3.2 0s-.9 2.3 0 3.2l9.5 9.5c.6.6 1.4.9 2.3.9c.8 0 1.6-.3 2.3-.9l9.5-9.5c.9-.9.9-2.3 0-3.2s-2.3-.9-3.2 0m12.1-31.9h4.9c1.2 0 2.2-1 2.2-2.3c0-1.2-1-2.2-2.3-2.2h-4.9c-1.2 0-2.2 1-2.2 2.3c0 1.2 1 2.2 2.3 2.2m0 15.3h12.5c1.2 0 2.2-1 2.2-2.3s-1-2.3-2.3-2.2H34.7c-1.2 0-2.2 1-2.2 2.3c0 1.2 1 2.2 2.3 2.2m0 15.3h17.6c1.2 0 2.2-1 2.2-2.3c0-1.2-1-2.2-2.3-2.2H34.7c-1.2 0-2.2 1-2.2 2.3c0 1.2 1 2.2 2.3 2.2M60 52.6H34.8c-1.2 0-2.2 1-2.2 2.3c0 1.2 1 2.2 2.3 2.2h25.2c1.2 0 2.2-1 2.2-2.3c-.1-1.2-1.1-2.2-2.3-2.2"})})}function W(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"m22.7 43.2l-6.3 6.3V9.1c0-1.2-1-2.3-2.3-2.3s-2.3 1-2.3 2.3v40.4l-6.3-6.3c-.9-.9-2.3-.9-3.2 0s-.9 2.3 0 3.2l9.5 9.5c.6.6 1.4.9 2.3.9c.8 0 1.6-.3 2.3-.9l9.5-9.5c.9-.9.9-2.3 0-3.2c-.9-.8-2.3-.8-3.2 0m17 9.5h-4.9c-1.2 0-2.2 1-2.3 2.2c0 1.2 1 2.3 2.2 2.3h4.9c1.2 0 2.2-1 2.3-2.2c0-1.3-1-2.3-2.2-2.3m7.6-15.3H34.8c-1.2 0-2.2 1-2.3 2.2c0 1.2 1 2.3 2.2 2.3h12.5c1.2 0 2.2-1 2.3-2.2c0-1.3-1-2.3-2.2-2.3m5.1-15.3H34.8c-1.2 0-2.3 1-2.3 2.2s1 2.3 2.2 2.3h17.6c1.2 0 2.2-1 2.3-2.2c0-1.3-1-2.3-2.2-2.3M60 6.9H34.8c-1.2 0-2.2 1-2.3 2.2c0 1.2 1 2.3 2.2 2.3h25.2c1.2 0 2.2-1 2.3-2.2c.1-1.3-1-2.3-2.2-2.3"})})}let Y=(0,n.PA)(function(){let[e,t]=(0,a.useState)([]);return(0,a.useEffect)(()=>{J.setSelectedTags(e)},[e]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,l.jsxs)("div",{className:"flex flex-wrap xl:flex-nowrap gap-2",children:[(0,l.jsx)(R,{}),(0,l.jsx)("div",{className:"flex gap-2",children:["all","today","active","completed","overdue"].map(e=>(0,l.jsxs)(v,{onClick:()=>J.setFilter(e),variant:J.currentFilter===e?"solid":"outline",color:function(e){switch(e){case"all":default:return"default";case"today":return"accent";case"active":return"warning";case"completed":return"success";case"overdue":return"error"}}(e),size:"xs",className:"xl:btn-sm",children:["all"===e&&"Все","today"===e&&"Сегодня","active"===e&&"Активные","completed"===e&&"Выполненные","overdue"===e&&"Просроченные"]},e))})]}),(0,l.jsxs)("div",{className:"relative flex gap-2",children:[(0,l.jsx)("select",{id:"sort-priority",className:"select select-sm select-floating w-[150px] xl:w-[200px] outline-none",onChange:e=>J.setSorting(e.target.value),value:J.sortKey,children:[{value:"none",label:"Без сортировки"},{value:"priority",label:"По приоритету"},{value:"dueDate",label:"По дате"}].map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,l.jsx)("label",{htmlFor:"sort-priority",className:"select-floating-label",children:"Сортировать по :"}),"none"!==J.sortKey&&(0,l.jsx)(v,{onClick:()=>J.setSorting(J.sortKey),variant:"outline",color:"primary",size:"sm",icon:"asc"===J.sortOrder?(0,l.jsx)(G,{}):(0,l.jsx)(W,{})})]})]}),(0,l.jsxs)("div",{className:"flex gap-2 py-2",children:[J.tagsList.map(s=>(0,l.jsx)(L,{className:"cursor-pointer",tag:s,variant:e.includes(s)?"soft":"outline",onClick:()=>e.includes(s)?t(e.filter(e=>e.id!==s.id)):t([...e,s])},s.id)),e.length>0&&(0,l.jsx)(v,{size:"xs",variant:"soft",onClick:()=>t([]),children:"Сбросить"})]})]})});var Z=s(3388);function U(e){let{setNewTask:t,newTask:s,editable:i}=e,[r,n]=(0,a.useState)({id:"",name:""}),o=e=>{t({...s,tags:s.tags.filter(t=>t.id!==e)})},c=e=>{"Enter"===e.key&&(t({...s,tags:[...s.tags,r]}),n({id:"",name:""}))};return(0,l.jsxs)("div",{className:"flex gap-2 flex-col",children:[(0,l.jsx)(u,{value:r.name,label:"Теги",onChange:e=>n({id:(0,Z.A)(),name:e.target.value.trim()}),onKeyPress:e=>c(e)}),(0,l.jsx)("div",{className:"flex gap-2",children:s.tags.map(e=>(0,l.jsx)(L,{tag:e,editable:i,deleteTag:o},e.id))})]})}let X=e=>{let{formTitle:t,titleField:s,descriptionField:a,tagsField:i,dueDateField:r,priorityField:n,actions:o}=e;return(0,l.jsxs)("form",{className:"flex flex-col gap-3 relative",children:[(0,l.jsx)("h2",{children:t}),s,(0,l.jsxs)("div",{id:"form-collapse",className:"flex flex-col gap-4 px-1 py-2 collapse hidden overflow-hidden transition-[height] duration-300",children:[a,i,r,n]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-3 px-1",children:o})]})},$=()=>{let[e,t]=(0,a.useState)({title:"",description:""});return{errors:e,validateForm:s=>{var l;let a=!0;return s.title.trim()||(t({...e,title:"Задача не введена"}),a=!1),s.title.length>50&&(t({...e,title:"Заголовок не дошлжен превышать 50 символов"}),a=!1),s.description&&(null===(l=s.description)||void 0===l?void 0:l.trim().length)>500&&(t({...e,description:"Описание не должно превышать 500 символов"}),a=!1),a},resetErrors:()=>t({title:"",description:""})}},ee=[{value:"low",label:"Низкий"},{value:"medium",label:"Средний"},{value:"high",label:"Высокий"}],et={id:"",title:"",description:"",tags:[],dueDate:"",priority:"medium",isCompleted:!1},es=(0,n.PA)(function(){let[e,t]=(0,a.useState)(et),{validateForm:s,resetErrors:i,errors:r}=$(),n=e=>{s(e)&&(J.addTask({...e,id:(0,Z.A)()}),t(et),i())};return(0,l.jsx)(X,{formTitle:"Добавить задачу",titleField:(0,l.jsx)(u,{value:e.title,label:"Введите название задачи",onChange:s=>t({...e,title:s.target.value}),helperText:"Не более 50 символов",error:r.title}),descriptionField:(0,l.jsx)(M,{value:e.description,label:"Описание",onChange:s=>t({...e,description:s.target.value}),helperText:"Не более 200 символов",error:r.description}),tagsField:(0,l.jsx)(U,{editable:!0,setNewTask:t,newTask:e}),dueDateField:(0,l.jsx)(b,{task:e,setTask:t}),priorityField:(0,l.jsx)(C,{value:e.priority,options:ee,label:"Приоритет",onChange:s=>t({...e,priority:s})}),actions:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(v,{className:"collapse-toggle xl:btn-lg",id:"form-collapse-button","data-collapse":"#form-collapse",size:"sm",children:["Дополнительно",(0,l.jsx)(F,{className:"collapse-open:hidden"}),(0,l.jsx)(H,{className:"hidden collapse-open:block"})]}),(0,l.jsx)(v,{className:"xl:btn-lg",color:"primary",onClick:()=>n(e),icon:(0,l.jsx)(O,{}),size:"sm",children:"Добавить"})]})})});function el(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,l.jsxs)("g",{fill:"none",children:[(0,l.jsx)("path",{d:"m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M12 4a9 9 0 1 1 0 18a9 9 0 0 1 0-18m0 2a7 7 0 1 0 0 14a7 7 0 0 0 0-14m0 2a1 1 0 0 1 .993.883L13 9v3.586l1.813 1.812a1 1 0 0 1-1.32 1.498l-.095-.084l-2.105-2.105a1 1 0 0 1-.286-.59l-.007-.13V9a1 1 0 0 1 1-1m4.634-5.03a1 1 0 0 1 1.367-.364a12 12 0 0 1 3.271 2.776a1 1 0 0 1-1.544 1.27a10 10 0 0 0-2.729-2.315a1 1 0 0 1-.365-1.366ZM6 2.607a1 1 0 1 1 1.002 1.731a10 10 0 0 0-2.729 2.316a1 1 0 1 1-1.544-1.27A12 12 0 0 1 6 2.607"})]})})}function ea(e){let{isDueToday:t,isOverdue:s,isCompleted:a}=e;return(t||s)&&!a?(0,l.jsxs)("div",{className:"alert alert-error alert-soft p-1 flex gap-2 items-center",children:[t&&!s&&"Срок истекает сегодня ",s&&"Срок истек ",(0,l.jsx)(el,{})]}):null}function ei(e){let{task:t,editable:s,modifiedTask:a,setModifiedTask:i,onPriorityChange:r,onToggleComplete:n}=e;return(0,l.jsxs)("div",{className:"flex gap-2 items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[s?(0,l.jsx)(u,{value:a.title,size:"xs",onChange:e=>i({...t,title:e.target.value})}):(0,l.jsx)(S,{id:t.id,checked:t.isCompleted,onChange:()=>n(t.id),label:t.title}),s&&(0,l.jsx)(C,{size:"xs",value:a.priority,onChange:r,options:ee,className:"w-[120px]"}),(0,l.jsx)("span",{className:(0,h.A)({"text-error":"high"===a.priority,"text-accent":"medium"===a.priority,"text-success":"low"===a.priority}),children:(0,l.jsx)(B,{})})]}),s?(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("span",{children:"Дедлайн:"}),(0,l.jsx)(b,{setTask:i,task:a,size:"xs"})]}):t.dueDate&&(0,l.jsx)("div",{children:y(t.dueDate)})]})}function er(e){let{task:t,editable:s,modifiedTask:a,setModifiedTask:i}=e;return t.description||s?(0,l.jsx)("div",{className:"bg-primary/20 rounded-md p-3 flex flex-col",children:s?(0,l.jsx)(M,{value:a.description||"",onChange:e=>i({...t,description:e.target.value})}):(0,l.jsx)("p",{className:"text-primary",children:t.description})}):null}function en(e){let{editable:t,modifiedTask:s,onTagAdd:i,onTagDelete:r}=e,[n,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),h=(e,t)=>{"Enter"===e.key&&(i(t),d(!1))};return(0,l.jsxs)("div",{className:"flex gap-2",children:[s.tags.map(e=>(0,l.jsx)(L,{tag:e,editable:t,deleteTag:r},e.id)),t&&(0,l.jsxs)(l.Fragment,{children:[c&&(0,l.jsx)(u,{className:"w-[100px] border-primary animate-spread",size:"xs",onChange:e=>o(e.target.value),onKeyPress:e=>h(e,n)}),(0,l.jsx)(v,{variant:"soft",color:"primary",size:"xs",icon:(0,l.jsx)(F,{}),onClick:()=>d(!0)})]})]})}function eo(e){let{editable:t,toggleEditable:s,onTaskDel:a,onTaskSave:i}=e;return(0,l.jsxs)("div",{className:"flex gap-2",children:[t?(0,l.jsx)(v,{size:"xs",variant:"soft",color:"primary",onClick:i,children:"Сохранить"}):(0,l.jsx)("span",{onClick:s,className:"badge badge-primary size-6 p-0 cursor-pointer",children:(0,l.jsx)(A,{})}),(0,l.jsx)("span",{onClick:a,className:"badge badge-primary size-6 p-0 cursor-pointer",children:(0,l.jsx)(z,{})})]})}let ec=(0,n.PA)(function(e){let{task:t,toggleTaskCompletion:s,deleteTask:i}=e,[r,n]=(0,a.useState)(!1),[o,c]=(0,a.useState)(t),d=(0,a.useCallback)(()=>{J.updateTask(o),n(!1)},[o]),h=(0,a.useCallback)(e=>{c(t=>({...t,priority:e}))},[]),m=t.dueDate&&(0,Q.c)(t.dueDate),u=J.overdueTaskList.includes(t);return(0,l.jsxs)("div",{className:"card card-compact",children:[(0,l.jsx)(ea,{isDueToday:!!m,isOverdue:u,isCompleted:t.isCompleted}),(0,l.jsxs)("div",{className:"card-body gap-3",children:[(0,l.jsx)(ei,{task:t,editable:r,modifiedTask:o,setModifiedTask:c,onPriorityChange:h,onToggleComplete:s}),(0,l.jsx)(er,{task:t,editable:r,modifiedTask:o,setModifiedTask:c}),(0,l.jsxs)("div",{className:"flex gap-2 justify-between items-center",children:[(0,l.jsx)(en,{editable:r,modifiedTask:o,onTagAdd:e=>{c(t=>({...t,tags:[...o.tags,{id:(0,Z.A)(),name:e}]}))},onTagDelete:e=>{c(t=>({...t,tags:o.tags.filter(t=>t.id!==e)}))}}),(0,l.jsx)(eo,{editable:r,toggleEditable:()=>n(!r),onTaskDel:()=>{i(t.id)},onTaskSave:d})]})]})]},t.id)}),ed=(0,n.PA)(function(){let e=J.sortedTasks.map(e=>(0,l.jsx)(ec,{task:e,deleteTask:J.deleteTask,toggleTaskCompletion:J.toggleTaskCompletion},e.id)),t=J.completedTasksList.map(e=>(0,l.jsx)(ec,{task:e,deleteTask:J.deleteTask,toggleTaskCompletion:J.toggleTaskCompletion},e.id));return(0,l.jsxs)("div",{className:"flex flex-col gap-4 py-4",children:[e,J.completedTasksList.length>0&&"all"===J.currentFilter&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"divider divider-primary",children:"Выполненные"}),t]})]})}),eh=e=>{let{header:t,footer:s,children:a,aside:i}=e;return(0,l.jsxs)("div",{className:"flex gap-4 h-[100vh]",children:[(0,l.jsxs)("div",{className:"basis-[100%] xl:basis-[70%] px-5",children:[t,a,s]}),(0,l.jsx)("div",{className:"grow max-w-[30%] border-l px-3 pt-5",children:i})]})};function em(){return(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");e&&d.setTheme(e)},[]),(0,l.jsxs)(eh,{aside:(0,l.jsx)(es,{}),header:(0,l.jsx)(P,{}),children:[(0,l.jsx)(Y,{}),(0,l.jsx)(ed,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[313,866,827,441,517,358],()=>t(933)),_N_E=e.O()}]);